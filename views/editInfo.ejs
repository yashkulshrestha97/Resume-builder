<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<h1>Add Info</h1>
<style>
    .dashboardButton {
                color: #0099CC; /* Text color */
                background-color: transparent; /* Remove background color */
                border: 2px solid #0099CC; /* Border thickness, line style, and color */
                border-radius: 5px; /* Adds curve to border corners */
                text-transform: uppercase; /* Make letters uppercase */
                text-decoration: none;
        }
    .editinfoeButton {
                color: green; /* Text color */
                background-color: transparent; /* Remove background color */
                border: 2px solid green; /* Border thickness, line style, and color */
                border-radius: 5px; /* Adds curve to border corners */
                text-transform: uppercase; /* Make letters uppercase */
                text-decoration: none;
        }
</style>
<form method="POST">

    <div>
        <label for="houseNumber">House Number:</label>
        <input type="text" id="houseNumber" value="<%= info.address.houseNumber %>"  name="houseNumber" required>
    </div>
    
    <div>
        <label for="street">Street:</label>
        <input type="text" id="street" value="<%= info.address.street %>" name="street" required>
    </div>
    
    <div>
        <label for='city'>City:</label>
        <input type="text" id="city" value="<%= info.address.city %>" name="city" required>
    </div>

    <div>
        <label for='state'>State:</label>
        <input type="text" id="state" value="<%= info.address.state %>" name="state" required>
    </div>

    <div>
        <label for='country'>Country:</label>
        <input type="text" id="country" value="<%= info.address.country %>" name="country" required>
    </div>
   
    <div>
        <label for='mobileNumber'>Mobile Number:</label>
        <input type="text" id="mobileNumber" value="<%= info.mobileNumber %>" name="mobileNumber" required>
    </div>

    <div>
        <label for='age'>Age:</label>
        <input type="text" id="age" value="<%= info.age %>" name="age" required>
    </div>

    <button class="editinfoeButton" onclick="editInfo()" type="button">Update Information</button>

    <a class="dashboardButton" href="/api/user/get-info">Dashboard</a>
  </form>

  <script>
    function editInfo() {
        console.log('button clicked');
        var formData = {
            houseNumber: $("#houseNumber").val(),
            street: $("#street").val(),
            city: $("#city").val(),
            state: $("#state").val(),
            country: $("#country").val(),
            mobileNumber: $("#mobileNumber").val(),
            age: $("#age").val(),
        }
            $.ajax({
            type: "POST",
            url: "/api/user/info",
            data: formData,
            dataType: "json",
            success: function(data, textStatus) {
                window.location.href= '/api/user/get-info';
            },
            encode: true,
            })
    }
</script>
